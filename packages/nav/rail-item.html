<template component>
  <l-m src="https://cdn.jsdelivr.net/npm/p-icons@0.0.3/p-icon.html"></l-m>

  <style>
    :host {
      width: 100%;
    }

    .rail-item-container {
      display: flex;
      flex-direction: column;
      align-items: center;
      cursor: pointer;
      width: 100%;
      border-radius: var(--md-sys-shape-corner-large-default-size, 16px);
    }

    .rail-item-container:hover {
      background: var(--md-sys-color-secondary-container, #e8def8ff);
    }
  </style>

  <a class="rail-item-container">
    <x-if :value="typeof icon === 'string'">
      <p-icon :name="getIcon()"></p-icon>
    </x-if>
    <span class="rail-item-label">{{label}}</span>
  </a>

  <script>
    export default {
      tag: 'm-rail-item',
      attrs: {
        label: null,
        icon: null,
        iconActive: null,
        active: 'false',
      },
      proto: {
        getIcon() {
          if (this.isActive()) return this.iconActive ?? this.icon;
          return this.icon;
        },
        isActive() {
          return this.active !== 'false' && this.active !== false;
        },
      }
    }
  </script>
</template>